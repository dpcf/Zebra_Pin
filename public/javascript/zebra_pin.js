!function($){"use strict";$.Zebra_Pin=function(t,s){var n={class_name:"Zebra_Pin",contain:!1,hard:!1,top_spacing:0,bottom_spacing:0,z_index:9999,onPin:null,onUnpin:null},i=this,o=(Math.random()+1).toString(36).substring(2,7);i.settings={};var e=function(){i.settings=$.extend({},n,s),i.update(),$(window).bind("resize",function(){i.update()})};i.update=function(){t.each(function(t){void 0===$(this).data("Zebra_Pin_Position")?$(this).data("Zebra_Pin_Position",$(this).css("position")):$(this).css("position",$(this).data("Zebra_Pin_Position"));var s=$(this),n=s.parent().offset(),e=s.position(),a=s.outerHeight(),p=parseInt(s.css("marginLeft"),10)||0,g=parseInt(s.css("marginTop"),10)||0;if(n.left-=p,n.top-=g,i.settings.contain)var c=s.parent(),l=c.height(),r=c.offset();if(i.settings.hard)s.css({position:"fixed",left:n.left,top:n.top,zIndex:i.settings.z_index}).addClass(i.settings.class_name);else{s.css({zIndex:i.settings.z_index}).removeClass(i.settings.class_name);var f=".Zebra_Pin_"+o+"_"+t;$(window).unbind("scroll"+f).bind("scroll"+f,function(){var o=$(window).scrollTop();o>=n.top-i.settings.top_spacing&&(!i.settings.contain||o<=r.top+l-a-i.settings.bottom_spacing)&&"fixed"!=s.css("position")?(s.css({position:"fixed",left:n.left,top:i.settings.top_spacing}).addClass(i.settings.class_name),i.settings.onPin&&"function"==typeof i.settings.onPin&&i.settings.onPin(n.top-i.settings.top_spacing,s,t)):o<n.top-i.settings.top_spacing&&"absolute"!=s.css("position")?(s.css({position:"absolute",left:"",top:""}).removeClass(i.settings.class_name),i.settings.onUnpin&&"function"==typeof i.settings.onUnpin&&i.settings.onUnpin(n.top-i.settings.top_spacing,s,t)):i.settings.contain&&o>=r.top+l-a-i.settings.bottom_spacing&&"absolute"!=s.css("position")&&(s.css({position:"absolute",left:e.left,top:r.top+l-a-i.settings.bottom_spacing}).removeClass(i.settings.class_name),i.settings.onUnpin&&"function"==typeof i.settings.onUnpin&&i.settings.onUnpin(r.top+l-a-i.settings.bottom_spacing,s,t))}),$(window).trigger("scroll"+f)}})},e()}}(jQuery);
